import{r as R}from"./utils-vendor-BVqnKQB6.js";function W(){return W=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var l in o)({}).hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},W.apply(null,arguments)}function U(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function L(r,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},L(r,e)}function tt(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,L(r,e)}var $=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function et(r,e){return!!(r===e||$(r)&&$(e))}function rt(r,e){if(r.length!==e.length)return!1;for(var o=0;o<r.length;o++)if(!et(r[o],e[o]))return!1;return!0}function E(r,e){e===void 0&&(e=rt);var o,l=[],f,z=!1;function T(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];return z&&o===this&&e(v,l)||(f=r.apply(this,v),z=!0,o=this,l=v),f}return T}var it=typeof performance=="object"&&typeof performance.now=="function",q=it?function(){return performance.now()}:function(){return Date.now()};function j(r){cancelAnimationFrame(r.id)}function nt(r,e){var o=q();function l(){q()-o>=e?r.call(null):f.id=requestAnimationFrame(l)}var f={id:requestAnimationFrame(l)};return f}var F=-1;function H(r){if(r===void 0&&(r=!1),F===-1||r){var e=document.createElement("div"),o=e.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(e),F=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return F}var b=null;function K(r){if(r===void 0&&(r=!1),b===null||r){var e=document.createElement("div"),o=e.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var l=document.createElement("div"),f=l.style;return f.width="100px",f.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?b="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?b="negative":b="positive-ascending"),document.body.removeChild(e),b}return b}var ot=150,at=function(e,o){return e};function lt(r){var e,o=r.getItemOffset,l=r.getEstimatedTotalSize,f=r.getItemSize,z=r.getOffsetForIndexAndAlignment,T=r.getStartIndexForOffset,v=r.getStopIndexForStartIndex,g=r.initInstanceProps,_=r.shouldResetStyleCacheOnItemSizeChange,y=r.validateProps;return e=(function(C){tt(O,C);function O(m){var t;return t=C.call(this,m)||this,t._instanceProps=g(t.props,U(t)),t._outerRef=void 0,t._resetIsScrollingTimeoutId=null,t.state={instance:U(t),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof t.props.initialScrollOffset=="number"?t.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},t._callOnItemsRendered=void 0,t._callOnItemsRendered=E(function(i,n,a,c){return t.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:n,visibleStartIndex:a,visibleStopIndex:c})}),t._callOnScroll=void 0,t._callOnScroll=E(function(i,n,a){return t.props.onScroll({scrollDirection:i,scrollOffset:n,scrollUpdateWasRequested:a})}),t._getItemStyle=void 0,t._getItemStyle=function(i){var n=t.props,a=n.direction,c=n.itemSize,d=n.layout,s=t._getItemStyleCache(_&&c,_&&d,_&&a),u;if(s.hasOwnProperty(i))u=s[i];else{var h=o(t.props,i,t._instanceProps),S=f(t.props,i,t._instanceProps),I=a==="horizontal"||d==="horizontal",x=a==="rtl",P=I?h:0;s[i]=u={position:"absolute",left:x?void 0:P,right:x?P:void 0,top:I?0:h,height:I?"100%":S,width:I?S:"100%"}}return u},t._getItemStyleCache=void 0,t._getItemStyleCache=E(function(i,n,a){return{}}),t._onScrollHorizontal=function(i){var n=i.currentTarget,a=n.clientWidth,c=n.scrollLeft,d=n.scrollWidth;t.setState(function(s){if(s.scrollOffset===c)return null;var u=t.props.direction,h=c;if(u==="rtl")switch(K()){case"negative":h=-c;break;case"positive-descending":h=d-a-c;break}return h=Math.max(0,Math.min(h,d-a)),{isScrolling:!0,scrollDirection:s.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._onScrollVertical=function(i){var n=i.currentTarget,a=n.clientHeight,c=n.scrollHeight,d=n.scrollTop;t.setState(function(s){if(s.scrollOffset===d)return null;var u=Math.max(0,Math.min(d,c-a));return{isScrolling:!0,scrollDirection:s.scrollOffset<u?"forward":"backward",scrollOffset:u,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._outerRefSetter=function(i){var n=t.props.outerRef;t._outerRef=i,typeof n=="function"?n(i):n!=null&&typeof n=="object"&&n.hasOwnProperty("current")&&(n.current=i)},t._resetIsScrollingDebounced=function(){t._resetIsScrollingTimeoutId!==null&&j(t._resetIsScrollingTimeoutId),t._resetIsScrollingTimeoutId=nt(t._resetIsScrolling,ot)},t._resetIsScrolling=function(){t._resetIsScrollingTimeoutId=null,t.setState({isScrolling:!1},function(){t._getItemStyleCache(-1,null)})},t}O.getDerivedStateFromProps=function(t,i){return st(t,i),y(t),null};var p=O.prototype;return p.scrollTo=function(t){t=Math.max(0,t),this.setState(function(i){return i.scrollOffset===t?null:{scrollDirection:i.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},p.scrollToItem=function(t,i){i===void 0&&(i="auto");var n=this.props,a=n.itemCount,c=n.layout,d=this.state.scrollOffset;t=Math.max(0,Math.min(t,a-1));var s=0;if(this._outerRef){var u=this._outerRef;c==="vertical"?s=u.scrollWidth>u.clientWidth?H():0:s=u.scrollHeight>u.clientHeight?H():0}this.scrollTo(z(this.props,t,i,d,this._instanceProps,s))},p.componentDidMount=function(){var t=this.props,i=t.direction,n=t.initialScrollOffset,a=t.layout;if(typeof n=="number"&&this._outerRef!=null){var c=this._outerRef;i==="horizontal"||a==="horizontal"?c.scrollLeft=n:c.scrollTop=n}this._callPropsCallbacks()},p.componentDidUpdate=function(){var t=this.props,i=t.direction,n=t.layout,a=this.state,c=a.scrollOffset,d=a.scrollUpdateWasRequested;if(d&&this._outerRef!=null){var s=this._outerRef;if(i==="horizontal"||n==="horizontal")if(i==="rtl")switch(K()){case"negative":s.scrollLeft=-c;break;case"positive-ascending":s.scrollLeft=c;break;default:var u=s.clientWidth,h=s.scrollWidth;s.scrollLeft=h-u-c;break}else s.scrollLeft=c;else s.scrollTop=c}this._callPropsCallbacks()},p.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&j(this._resetIsScrollingTimeoutId)},p.render=function(){var t=this.props,i=t.children,n=t.className,a=t.direction,c=t.height,d=t.innerRef,s=t.innerElementType,u=t.innerTagName,h=t.itemCount,S=t.itemData,I=t.itemKey,x=I===void 0?at:I,P=t.layout,V=t.outerElementType,B=t.outerTagName,G=t.style,J=t.useIsScrolling,Q=t.width,N=this.state.isScrolling,M=a==="horizontal"||P==="horizontal",X=M?this._onScrollHorizontal:this._onScrollVertical,k=this._getRangeToRender(),Y=k[0],Z=k[1],D=[];if(h>0)for(var w=Y;w<=Z;w++)D.push(R.createElement(i,{data:S,key:x(w,S),index:w,isScrolling:J?N:void 0,style:this._getItemStyle(w)}));var A=l(this.props,this._instanceProps);return R.createElement(V||B||"div",{className:n,onScroll:X,ref:this._outerRefSetter,style:W({position:"relative",height:c,width:Q,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},G)},R.createElement(s||u||"div",{children:D,ref:d,style:{height:M?"100%":A,pointerEvents:N?"none":void 0,width:M?A:"100%"}}))},p._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var t=this.props.itemCount;if(t>0){var i=this._getRangeToRender(),n=i[0],a=i[1],c=i[2],d=i[3];this._callOnItemsRendered(n,a,c,d)}}if(typeof this.props.onScroll=="function"){var s=this.state,u=s.scrollDirection,h=s.scrollOffset,S=s.scrollUpdateWasRequested;this._callOnScroll(u,h,S)}},p._getRangeToRender=function(){var t=this.props,i=t.itemCount,n=t.overscanCount,a=this.state,c=a.isScrolling,d=a.scrollDirection,s=a.scrollOffset;if(i===0)return[0,0,0,0];var u=T(this.props,s,this._instanceProps),h=v(this.props,u,s,this._instanceProps),S=!c||d==="backward"?Math.max(1,n):1,I=!c||d==="forward"?Math.max(1,n):1;return[Math.max(0,u-S),Math.max(0,Math.min(i-1,h+I)),u,h]},O})(R.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var st=function(e,o){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,o.instance},ut=lt({getItemOffset:function(e,o){var l=e.itemSize;return o*l},getItemSize:function(e,o){var l=e.itemSize;return l},getEstimatedTotalSize:function(e){var o=e.itemCount,l=e.itemSize;return l*o},getOffsetForIndexAndAlignment:function(e,o,l,f,z,T){var v=e.direction,g=e.height,_=e.itemCount,y=e.itemSize,C=e.layout,O=e.width,p=v==="horizontal"||C==="horizontal",m=p?O:g,t=Math.max(0,_*y-m),i=Math.min(t,o*y),n=Math.max(0,o*y-m+y+T);switch(l==="smart"&&(f>=n-m&&f<=i+m?l="auto":l="center"),l){case"start":return i;case"end":return n;case"center":{var a=Math.round(n+(i-n)/2);return a<Math.ceil(m/2)?0:a>t+Math.floor(m/2)?t:a}case"auto":default:return f>=n&&f<=i?f:f<n?n:i}},getStartIndexForOffset:function(e,o){var l=e.itemCount,f=e.itemSize;return Math.max(0,Math.min(l-1,Math.floor(o/f)))},getStopIndexForStartIndex:function(e,o,l){var f=e.direction,z=e.height,T=e.itemCount,v=e.itemSize,g=e.layout,_=e.width,y=f==="horizontal"||g==="horizontal",C=o*v,O=y?_:z,p=Math.ceil((O+l-C)/v);return Math.max(0,Math.min(T-1,o+p-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});export{ut as F};
