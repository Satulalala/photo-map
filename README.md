# ğŸ—ºï¸ åœ°å›¾ç›¸å†Œ Photo Map

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-AGPL--3.0-green.svg)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux%20%7C%20Web-lightgrey.svg)
![React](https://img.shields.io/badge/React-18.2-61dafb.svg)
![Electron](https://img.shields.io/badge/Electron-27-47848f.svg)

**ä¸€ä¸ªä¼˜é›…çš„ç…§ç‰‡åœ°å›¾åº”ç”¨ï¼Œå¸®åŠ©æ‚¨åœ¨åœ°å›¾ä¸Šæ ‡è®°å’Œç®¡ç†ç…§ç‰‡ï¼Œè®°å½•æ—…è¡Œè¶³è¿¹ï¼Œåˆ†äº«ç¾å¥½å›å¿†ã€‚**

[åœ¨çº¿ä½“éªŒ](https://photo-map.netlify.app) Â· [ä¸‹è½½æ¡Œé¢ç‰ˆ](https://github.com/your-repo/photo-map/releases) Â· [æŸ¥çœ‹æ–‡æ¡£](./docs)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ—ºï¸ äº¤äº’å¼åœ°å›¾
- åŸºäº Mapbox GL JS çš„é«˜æ€§èƒ½åœ°å›¾å¼•æ“
- æ”¯æŒç¼©æ”¾ã€æ‹–æ‹½ã€æ—‹è½¬ç­‰æ‰‹åŠ¿æ“ä½œ
- å¤šç§åœ°å›¾æ ·å¼åˆ‡æ¢ï¼ˆè¡—é“ã€å«æ˜Ÿã€æš—è‰²ç­‰ï¼‰
- æ™ºèƒ½åœ°åæœç´¢å’Œå®šä½

### ğŸ“ æ ‡è®°ç®¡ç†
- ç‚¹å‡»åœ°å›¾ä»»æ„ä½ç½®åˆ›å»ºæ ‡è®°
- è‡ªåŠ¨è·å–åœ°åå’Œåœ°å€ä¿¡æ¯
- æ”¯æŒæ ‡è®°åˆ†ç»„å’Œæ ‡ç­¾ç®¡ç†
- æ ‡è®°å…¥åœºåŠ¨ç”»å’Œæ‚¬åœæ•ˆæœ

### ğŸ“· ç…§ç‰‡ç®¡ç†
- æ¯ä¸ªæ ‡è®°æ”¯æŒå¤šå¼ ç…§ç‰‡
- æ”¯æŒç…§ç‰‡å¤‡æ³¨å’Œæè¿°
- å…¨å±ç…§ç‰‡æŸ¥çœ‹å™¨
- ç…§ç‰‡ç¼©ç•¥å›¾é¢„è§ˆ

### âœ‚ï¸ ç…§ç‰‡ç¼–è¾‘
- iOS é£æ ¼çš„ç…§ç‰‡ç¼–è¾‘å™¨
- æ”¯æŒè£å‰ªå’Œæ—‹è½¬åŠŸèƒ½
- å®æ—¶é¢„è§ˆç¼–è¾‘æ•ˆæœ
- ä¸€é”®ä¿å­˜ä¿®æ”¹

### ğŸ” æ™ºèƒ½æœç´¢
- åœ°åå’Œåœ°å€æœç´¢
- ç…§ç‰‡å¤‡æ³¨å†…å®¹æœç´¢
- æœç´¢å†å²è®°å½•
- æœç´¢ç»“æœé«˜äº®

### ğŸ”¥ æ•°æ®å¯è§†åŒ–
- çƒ­åŠ›å›¾æ¨¡å¼æ˜¾ç¤ºç…§ç‰‡å¯†åº¦
- æ ‡è®°èšåˆä¼˜åŒ–æ˜¾ç¤º
- ç»Ÿè®¡æ•°æ®å±•ç¤º

### âš¡ æ€§èƒ½ä¼˜åŒ–
- è™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨
- å›¾ç‰‡æ‡’åŠ è½½
- LRU ç¼“å­˜ç­–ç•¥
- å†…å­˜è‡ªåŠ¨æ¸…ç†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœ¨çº¿ä½“éªŒ

è®¿é—® Web ç‰ˆæœ¬ï¼Œæ— éœ€å®‰è£…ï¼š

- **Netlify**: `https://photo-map.netlify.app`
- **Vercel**: `https://photo-map.vercel.app`

### ä¸‹è½½æ¡Œé¢ç‰ˆ

| å¹³å° | ä¸‹è½½é“¾æ¥ | ç³»ç»Ÿè¦æ±‚ |
|------|----------|----------|
| ğŸªŸ Windows | [photo-map-setup.exe](https://github.com/your-repo/photo-map/releases) | Windows 10+ |
| ğŸ macOS | [photo-map.dmg](https://github.com/your-repo/photo-map/releases) | macOS 10.15+ |
| ğŸ§ Linux | [photo-map.AppImage](https://github.com/your-repo/photo-map/releases) | Ubuntu 18.04+ |

### æœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/photo-map.git
cd photo-map

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ Mapbox Access Token

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev          # æ¡Œé¢ç‰ˆå¼€å‘
npm run web:dev      # Web ç‰ˆå¼€å‘
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

| æ“ä½œ | æ–¹æ³• |
|------|------|
| åˆ›å»ºæ ‡è®° | ç‚¹å‡»åœ°å›¾ä»»æ„ä½ç½® |
| æ·»åŠ ç…§ç‰‡ | åœ¨æ ‡è®°èœå•ä¸­é€‰æ‹©"æ·»åŠ ç…§ç‰‡" |
| æŸ¥çœ‹ç…§ç‰‡ | ç‚¹å‡»æ ‡è®°æˆ–ç…§ç‰‡ç¼©ç•¥å›¾ |
| ç¼–è¾‘ç…§ç‰‡ | åœ¨æŸ¥çœ‹å™¨ä¸­ç‚¹å‡»ç¼–è¾‘æŒ‰é’® |
| æœç´¢ | ä½¿ç”¨é¡¶éƒ¨æœç´¢æ¡† |
| åˆ é™¤æ ‡è®° | åœ¨æ ‡è®°èœå•ä¸­é€‰æ‹©"åˆ é™¤" |

### å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `F` | èšç„¦æœç´¢æ¡† |
| `M` | æ‰“å¼€æ ‡è®°åˆ—è¡¨ |
| `H` | åˆ‡æ¢çƒ­åŠ›å›¾æ¨¡å¼ |
| `S` | æ‰“å¼€è®¾ç½®é¢æ¿ |
| `R` | æµ‹é‡æ¨¡å¼ |
| `Esc` | å…³é—­å½“å‰å¼¹çª— |
| `â†` / `â†’` | åˆ‡æ¢ç…§ç‰‡ |
| `+` / `-` | ç¼©æ”¾ç…§ç‰‡ |

### Web ç‰ˆ vs æ¡Œé¢ç‰ˆ

| åŠŸèƒ½ | Web ç‰ˆ | æ¡Œé¢ç‰ˆ |
|------|:------:|:------:|
| åœ°å›¾æ“ä½œ | âœ… | âœ… |
| ç…§ç‰‡ä¸Šä¼  | âœ… | âœ… |
| ç…§ç‰‡ç¼–è¾‘ | âœ… | âœ… |
| ç¦»çº¿ä½¿ç”¨ | âš ï¸ PWA | âœ… |
| æ•°æ®å­˜å‚¨ | IndexedDB | SQLite |
| å­˜å‚¨ç©ºé—´ | æœ‰é™ | æ— é™ |
| æ€§èƒ½ | è‰¯å¥½ | ä¼˜ç§€ |
| ç³»ç»Ÿé›†æˆ | âŒ | âœ… |

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

```
å‰ç«¯æ¡†æ¶    React 18 + Vite
æ¡Œé¢æ¡†æ¶    Electron 27
åœ°å›¾å¼•æ“    Mapbox GL JS
æ•°æ®åº“      SQLite (better-sqlite3)
å›¾ç‰‡å¤„ç†    Sharp
çŠ¶æ€ç®¡ç†    Zustand
ç±»å‹æ£€æŸ¥    TypeScript
æ ·å¼æ–¹æ¡ˆ    CSS + CSS Modules
æµ‹è¯•æ¡†æ¶    Vitest + Playwright
```

### é¡¹ç›®ç»“æ„

```
photo-map/
â”œâ”€â”€ src/                      # æºä»£ç 
â”‚   â”œâ”€â”€ components/           # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PhotoViewer.jsx   # ç…§ç‰‡æŸ¥çœ‹å™¨
â”‚   â”‚   â”œâ”€â”€ PhotoEditor.jsx   # ç…§ç‰‡ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ MinimalLoader.jsx # åŠ è½½é¡µé¢
â”‚   â”‚   â””â”€â”€ ErrorBoundary.jsx # é”™è¯¯è¾¹ç•Œ
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ helpers.js        # é€šç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ LRUCache.ts       # LRU ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ memoryManager.ts  # å†…å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ seoManager.js     # SEO ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ pwaManager.js     # PWA ç®¡ç†
â”‚   â”‚   â””â”€â”€ webAnalytics.js   # åˆ†æç»Ÿè®¡
â”‚   â”œâ”€â”€ constants/            # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.js          # å…¨å±€å¸¸é‡
â”‚   â”œâ”€â”€ styles/               # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ variables.css     # CSS å˜é‡
â”‚   â”‚   â””â”€â”€ components/       # ç»„ä»¶æ ·å¼
â”‚   â”œâ”€â”€ store/                # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ types/                # TypeScript ç±»å‹
â”œâ”€â”€ src-web/                  # Web ç‰ˆä¸“ç”¨ä»£ç 
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”‚   â”œâ”€â”€ sw.js                 # Service Worker
â”‚   â”œâ”€â”€ manifest.json         # PWA é…ç½®
â”‚   â””â”€â”€ offline.html          # ç¦»çº¿é¡µé¢
â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ development.json      # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ production.json       # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”œâ”€â”€ scripts/                  # è„šæœ¬å·¥å…·
â”œâ”€â”€ main.cjs                  # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ preload.cjs               # é¢„åŠ è½½è„šæœ¬
â”œâ”€â”€ database.cjs              # æ•°æ®åº“æ“ä½œ
â”œâ”€â”€ vite.config.js            # Vite é…ç½®
â””â”€â”€ package.json              # é¡¹ç›®é…ç½®
```

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å½“å‰å€¼ |
|------|--------|--------|
| å†·å¯åŠ¨æ—¶é—´ | < 2s | ~1.2s |
| çƒ­å¯åŠ¨æ—¶é—´ | < 1s | ~0.8s |
| å†…å­˜å ç”¨ | < 300MB | ~250MB |
| æ ‡è®°æ¸²æŸ“ | 200+ | 500+ |
| å¸§ç‡ | 60fps | 60fps |

---

## ğŸ“¦ å¼€å‘å‘½ä»¤

### å¼€å‘

```bash
npm run dev          # å¯åŠ¨ Electron å¼€å‘æ¨¡å¼
npm run web:dev      # å¯åŠ¨ Web å¼€å‘æ¨¡å¼
npm run vite-dev     # ä»…å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨
```

### æ„å»º

```bash
npm run build        # æ„å»ºå‰ç«¯ä»£ç 
npm run web:build    # æ„å»º Web ç‰ˆæœ¬
npm run build:all    # æ„å»ºæ‰€æœ‰ç‰ˆæœ¬
npm run dist         # æ‰“åŒ… Electron åº”ç”¨
```

### æµ‹è¯•

```bash
npm run test         # è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:watch   # ç›‘å¬æ¨¡å¼æµ‹è¯•
npm run test:coverage # æµ‹è¯•è¦†ç›–ç‡
npm run test:e2e     # ç«¯åˆ°ç«¯æµ‹è¯•
```

### ä»£ç è´¨é‡

```bash
npm run lint         # ESLint æ£€æŸ¥
npm run lint:fix     # è‡ªåŠ¨ä¿®å¤
npm run format       # Prettier æ ¼å¼åŒ–
npm run type-check   # TypeScript ç±»å‹æ£€æŸ¥
```

### å…¶ä»–

```bash
npm run setup        # è¿è¡Œé…ç½®å‘å¯¼
npm run clean        # æ¸…ç†æ„å»ºæ–‡ä»¶
npm run audit        # å®‰å…¨å®¡è®¡
npm run release      # å‘å¸ƒæ–°ç‰ˆæœ¬
```

---

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | æè¿° |
|------|------|
| [TECHNICAL_GUIDE.md](./docs/TECHNICAL_GUIDE.md) | æŠ€æœ¯å®ç°è¯¦è§£ |
| [API.md](./docs/API.md) | API æ¥å£æ–‡æ¡£ |
| [DEVELOPMENT.md](./docs/DEVELOPMENT.md) | å¼€å‘æŒ‡å— |
| [DEPLOY_STEP_BY_STEP.md](./docs/DEPLOY_STEP_BY_STEP.md) | éƒ¨ç½²æ•™ç¨‹ |
| [MONITORING_SETUP.md](./docs/MONITORING_SETUP.md) | ç›‘æ§é…ç½® |
| [WEB_OPTIMIZATION_GUIDE.md](./docs/WEB_OPTIMIZATION_GUIDE.md) | Web ä¼˜åŒ–æŒ‡å— |
| [PROJECT_STRUCTURE.md](./docs/PROJECT_STRUCTURE.md) | é¡¹ç›®ç»“æ„è¯´æ˜ |

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork** æœ¬é¡¹ç›®
2. **åˆ›å»º** åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. **æäº¤** æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€** åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. **æ‰“å¼€** Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ESLint å’Œ Prettier ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) æäº¤è§„èŒƒ
- ä¸ºæ–°åŠŸèƒ½ç¼–å†™æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### é—®é¢˜åé¦ˆ

- ä½¿ç”¨ [GitHub Issues](https://github.com/your-repo/photo-map/issues) æŠ¥å‘Š Bug
- ä½¿ç”¨ [GitHub Discussions](https://github.com/your-repo/photo-map/discussions) è®¨è®ºåŠŸèƒ½å»ºè®®

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **AGPL-3.0** è®¸å¯è¯ã€‚

| ä½¿ç”¨åœºæ™¯ | æ˜¯å¦å…è®¸ |
|----------|:--------:|
| ä¸ªäººä½¿ç”¨ | âœ… å…è´¹ |
| å­¦ä¹ ç ”ç©¶ | âœ… å…è´¹ |
| éå•†ä¸šä½¿ç”¨ | âœ… å…è´¹ |
| å•†ä¸šä½¿ç”¨ | âš ï¸ éœ€æˆæƒ |

å¦‚éœ€å•†ä¸šè®¸å¯è¯ï¼Œè¯·è”ç³»ï¼š[your-email@example.com]

æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š

- [Mapbox](https://www.mapbox.com/) - åœ°å›¾æœåŠ¡
- [Electron](https://www.electronjs.org/) - æ¡Œé¢åº”ç”¨æ¡†æ¶
- [React](https://reactjs.org/) - UI æ¡†æ¶
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·
- [Sharp](https://sharp.pixelplumbing.com/) - å›¾åƒå¤„ç†
- [SQLite](https://www.sqlite.org/) - æ•°æ®åº“

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by Photo Map Team

</div>